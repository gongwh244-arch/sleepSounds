# Firebase CLI æ‰¹é‡å¯¼å…¥æ•°æ® - è¯¦ç»†æ­¥éª¤

## æ–¹æ³•é€‰æ‹©

æˆ‘ä¸ºæ‚¨å‡†å¤‡äº†ä¸¤ç§æ–¹æ³•,æ¨èä½¿ç”¨ **æ–¹æ³• 2 (Node.js è„šæœ¬)**,æ›´ç®€å•ç›´æ¥ã€‚

---

## æ–¹æ³• 1: ä½¿ç”¨ Firebase CLI (å®˜æ–¹æ–¹å¼)

### æ­¥éª¤ 1: å®‰è£… Firebase CLI

```bash
# ä½¿ç”¨ npm å®‰è£…
npm install -g firebase-tools

# éªŒè¯å®‰è£…
firebase --version
```

### æ­¥éª¤ 2: ç™»å½• Firebase

```bash
firebase login
```

è¿™ä¼šæ‰“å¼€æµè§ˆå™¨,è®©æ‚¨ç™»å½• Google è´¦å·ã€‚

### æ­¥éª¤ 3: åˆå§‹åŒ–é¡¹ç›®

```bash
cd /Users/zyb/Documents/sleep/SleepSounds
firebase init firestore
```

é€‰æ‹©:
- é€‰æ‹©ç°æœ‰é¡¹ç›®: `sleep-sounds-a26ee`
- Firestore rules: ä½¿ç”¨é»˜è®¤
- Firestore indexes: ä½¿ç”¨é»˜è®¤

### æ­¥éª¤ 4: ä¸‹è½½æœåŠ¡è´¦å·å¯†é’¥

1. è®¿é—® Firebase Console: https://console.firebase.google.com/
2. é€‰æ‹©é¡¹ç›® `sleep-sounds-a26ee`
3. ç‚¹å‡»å·¦ä¸Šè§’é½¿è½®å›¾æ ‡ â†’ é¡¹ç›®è®¾ç½®
4. é€‰æ‹© "æœåŠ¡è´¦å·" æ ‡ç­¾
5. ç‚¹å‡» "ç”Ÿæˆæ–°çš„ç§é’¥"
6. ä¸‹è½½æ–‡ä»¶å¹¶é‡å‘½åä¸º `serviceAccountKey.json`
7. å°†æ–‡ä»¶æ”¾åˆ°é¡¹ç›®ç›®å½•: `/Users/zyb/Documents/sleep/SleepSounds/`

### æ­¥éª¤ 5: å¯¼å…¥æ•°æ®

Firebase CLI æœ¬èº«ä¸ç›´æ¥æ”¯æŒ JSON å¯¼å…¥,éœ€è¦ä½¿ç”¨ Node.js è„šæœ¬ã€‚

---

## æ–¹æ³• 2: ä½¿ç”¨ Node.js è„šæœ¬ (æ¨è) â­

è¿™æ˜¯æœ€ç®€å•çš„æ–¹æ³•!æˆ‘å·²ç»ä¸ºæ‚¨åˆ›å»ºäº† `import-data-simple.js` è„šæœ¬ã€‚

### æ­¥éª¤ 1: å®‰è£… Node.js ä¾èµ–

```bash
cd /Users/zyb/Documents/sleep/SleepSounds
npm install firebase-admin
```

### æ­¥éª¤ 2: ä¸‹è½½æœåŠ¡è´¦å·å¯†é’¥ (å¯é€‰)

**é€‰é¡¹ A: ä½¿ç”¨æœåŠ¡è´¦å·å¯†é’¥ (æ›´å®‰å…¨)**

1. è®¿é—® Firebase Console: https://console.firebase.google.com/
2. é€‰æ‹©é¡¹ç›® `sleep-sounds-a26ee`
3. ç‚¹å‡»é½¿è½®å›¾æ ‡ â†’ é¡¹ç›®è®¾ç½® â†’ æœåŠ¡è´¦å·
4. ç‚¹å‡» "ç”Ÿæˆæ–°çš„ç§é’¥"
5. ä¸‹è½½å¹¶ä¿å­˜ä¸º `serviceAccountKey.json`
6. ç¼–è¾‘ `import-data-simple.js`,å–æ¶ˆæ³¨é‡Šç¬¬ 17-20 è¡Œ

**é€‰é¡¹ B: ä½¿ç”¨é¡¹ç›® ID (æ›´ç®€å•)**

è„šæœ¬å·²ç»é…ç½®å¥½äº†,ç›´æ¥ä½¿ç”¨å³å¯ (é»˜è®¤æ–¹å¼)ã€‚

### æ­¥éª¤ 3: è¿è¡Œå¯¼å…¥è„šæœ¬

```bash
node import-data-simple.js
```

### æ­¥éª¤ 4: éªŒè¯å¯¼å…¥

è¿è¡ŒæˆåŠŸå,æ‚¨ä¼šçœ‹åˆ°:

```
ğŸš€ å¼€å§‹å¯¼å…¥æ•°æ®åˆ° Firestore...

âœ“ å‡†å¤‡å¯¼å…¥: é›¨å£° (sleep)
âœ“ å‡†å¤‡å¯¼å…¥: æµ·æµª (sleep)
...
âœ“ å‡†å¤‡å¯¼å…¥: é›¨å£° (baby)

âœ… æˆåŠŸå¯¼å…¥ 18 æ¡æ•°æ®!
ğŸ‰ ç°åœ¨å¯ä»¥é‡æ–°è¿è¡Œåº”ç”¨æŸ¥çœ‹æ•°æ®äº†
```

---

## å¿«é€Ÿå¼€å§‹ (æœ€ç®€å•çš„æ–¹å¼)

å¦‚æœæ‚¨åªæƒ³å¿«é€Ÿå¯¼å…¥æ•°æ®,æ‰§è¡Œä»¥ä¸‹å‘½ä»¤:

```bash
cd /Users/zyb/Documents/sleep/SleepSounds
npm install firebase-admin
node import-data-simple.js
```

å°±è¿™ä¹ˆç®€å•! ğŸ‰

---

## éªŒè¯æ•°æ®

å¯¼å…¥å®Œæˆå:

1. **åœ¨ Firebase Console ä¸­æŸ¥çœ‹**:
   - è®¿é—® https://console.firebase.google.com/
   - é€‰æ‹©é¡¹ç›® â†’ Firestore Database
   - åº”è¯¥èƒ½çœ‹åˆ° `sounds` é›†åˆå’Œ 18 ä¸ªæ–‡æ¡£

2. **åœ¨åº”ç”¨ä¸­æŸ¥çœ‹**:
   - é‡æ–°è¿è¡Œ iOS åº”ç”¨
   - "ç¡çœ " æ ‡ç­¾åº”æ˜¾ç¤º 8 ä¸ªå£°éŸ³
   - "å®å®" æ ‡ç­¾åº”æ˜¾ç¤º 10 ä¸ªå£°éŸ³(åˆ† 3 ä¸ªåˆ†ç»„)

---

## æ•…éšœæ’é™¤

### é—®é¢˜ 1: `firebase-admin` å®‰è£…å¤±è´¥

```bash
# å°è¯•ä½¿ç”¨ sudo
sudo npm install -g firebase-admin

# æˆ–è€…åªåœ¨æœ¬åœ°å®‰è£…
npm install firebase-admin
```

### é—®é¢˜ 2: æƒé™é”™è¯¯

ç¡®ä¿æ‚¨å·²ç»:
- ç™»å½•äº†æ­£ç¡®çš„ Google è´¦å·
- å¯¹é¡¹ç›®æœ‰ç¼–è¾‘æƒé™
- æœåŠ¡è´¦å·å¯†é’¥æ–‡ä»¶è·¯å¾„æ­£ç¡®

### é—®é¢˜ 3: æ•°æ®æ²¡æœ‰æ˜¾ç¤º

æ£€æŸ¥:
- Firestore è§„åˆ™æ˜¯å¦å…è®¸è¯»å–
- åº”ç”¨çš„ Bundle ID æ˜¯å¦åŒ¹é…
- ç½‘ç»œè¿æ¥æ˜¯å¦æ­£å¸¸

---

## æ–‡ä»¶è¯´æ˜

é¡¹ç›®ä¸­åˆ›å»ºäº†ä»¥ä¸‹æ–‡ä»¶:

| æ–‡ä»¶ | è¯´æ˜ |
|------|------|
| `firestore-data.json` | JSON æ ¼å¼çš„æ•°æ®æ–‡ä»¶ |
| `import-data-simple.js` | Node.js å¯¼å…¥è„šæœ¬ (æ¨èä½¿ç”¨) |
| `import-firebase-data.sh` | Bash è‡ªåŠ¨åŒ–è„šæœ¬ (é«˜çº§ç”¨æ³•) |

---

## ä¸‹ä¸€æ­¥

å¯¼å…¥æ•°æ®å,æ‚¨å¯ä»¥:
1. åœ¨ Firebase Console ä¸­ç¼–è¾‘æ•°æ®
2. æ·»åŠ æ›´å¤šå£°éŸ³
3. ä¿®æ”¹ `isLocked` çŠ¶æ€æµ‹è¯• VIP åŠŸèƒ½
4. æ·»åŠ éŸ³é¢‘æ–‡ä»¶åˆ°é¡¹ç›®çš„ Resources æ–‡ä»¶å¤¹

ç¥æ‚¨ä½¿ç”¨æ„‰å¿«! ğŸµ
